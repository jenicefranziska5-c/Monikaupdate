<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tracking ‚Äî Monika</title>
<style>
:root{
  --bg:#f6f7fb;
  --card:#ffffff;
  --muted:#6b7280;
  --accent:#ff7a59;
  --accent-2:#ffb86b;
  --text:#121212;
  --shadow: 0 8px 30px rgba(16,24,40,0.08);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:linear-gradient(180deg, #f6f7fb 0%, #ffffff 100%);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding:28px;
}
.wrap{max-width:760px;margin:0 auto}
header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
.logo {
  width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));
  display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:20px;box-shadow:var(--shadow)
}
h1{font-size:20px;margin:0}
p.lead{margin:0;color:var(--muted);font-size:14px}
.card{background:var(--card);border-radius:14px;padding:18px;box-shadow:var(--shadow);margin-top:18px}
.summary{display:flex;gap:18px;align-items:center;justify-content:space-between;flex-wrap:wrap}
.left{min-width:0}
.tracking-id{font-weight:700;margin-bottom:6px}
.small{font-size:13px;color:var(--muted)}
.status{background:#eef8f5;color:#064e3b;padding:8px 12px;border-radius:999px;font-weight:600}
.events{margin-top:18px}
.event{display:flex;gap:12px;padding:12px 0;border-bottom:1px dashed #eef2f7;align-items:flex-start}
.evt-icon{width:40px;height:40;border-radius:8px;background:#fff;border:1px solid #f1f5f9;display:flex;align-items:center;justify-content:center}
.evt-body{flex:1}
.evt-time{font-size:13px;color:var(--muted);margin-bottom:6px}
.evt-title{font-weight:700;margin:0 0 6px 0}
.evt-desc{margin:0;color:var(--muted);font-size:14px}
.footer-note{margin-top:16px;color:var(--muted);font-size:13px;text-align:center}
.actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}
.btn{padding:10px 14px;border-radius:8px;border:0;font-weight:700;cursor:pointer}
.btn--primary{background:var(--accent);color:#fff}
.btn--ghost{background:transparent;border:1px solid #e6e6e6;color:var(--text)}
#liveTime{font-weight:600;color:var(--accent);margin-bottom:12px;}
.countdown{font-weight:600;color:#ff3e3e;margin-top:8px;}
@media (max-width:520px){
  .summary{flex-direction:column;align-items:flex-start}
}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="logo" aria-hidden>FT</div>
    <div>
      <h1>FastTrack ‚Äî Personal Tracking</h1>
      <p class="lead">Special for Monika ‚Äî interactive tracking view</p>
    </div>
  </header>

  <section class="card" id="trackingCard" role="region" aria-label="Tracking details">
    <div id="liveTime"></div>
    <div class="summary">
      <div class="left">
        <div class="tracking-id" id="trkId">Tracking #: <span style="color:var(--accent)">Hidden ‚Äî Click to get number</span></div>
        <div class="small" id="recipient">Recipient: <strong>Monika</strong> ‚Ä¢ Address: Hidden</div>
      </div>
      <div style="text-align:right">
        <div class="status" id="currStatus">In Transit</div>
        <div class="small" style="margin-top:8px">Courier: <strong>Hidden ‚Äî Click to get number</strong></div>
      </div>
    </div>

    <div class="events" id="eventsList" aria-live="polite"></div>

    <div class="actions" style="justify-content:flex-start">
      <button class="btn btn--ghost" onclick="window.print()">Print</button>
      <button class="btn btn--primary" id="downloadBtn">Download PNG</button>
      <button class="btn btn--primary" onclick="showDisclaimer('Courier Number')">Click to get courier number ‚Äî 200‚Ç¨</button>
      <button class="btn btn--primary" onclick="showDisclaimer('Tracking Number')">Click to get tracking number ‚Äî 200‚Ç¨</button>
      <button class="btn btn--primary" onclick="showDisclaimer('Delivery Dates')">Click to get delivery dates ‚Äî 200‚Ç¨</button>
    </div>

    <div class="countdown" id="countdown"></div>
    <p class="footer-note" id="footerNote"></p>
  </section>
</div>

<script>
const data = {
  trackingId: "DHL-2025-1002-XYZ",
  recipient: { name: "Monika" },
  courier: { name: "Mike Johnson" },
  status: "Delivery attempted ‚Äî recipient phone could not be reached",
  events: [
    { time: "2025-10-03 20:35:31", title: "Delivery Attempted", desc: "Recipient's phone could not be reached. Courier left a notice.", icon: "‚ö†Ô∏è" },
    { time: "2025-10-03 16:52:34", title: "Scanned for delivery", desc: "John George scanned for delivery at NYC-South Hub.", icon: "‚úÖ" },
    { time: "2025-10-03 10:44:08", title: "Arrived at site", desc: "Arrived at site NYC-South Hub", icon: "üì¶" }
  ]
};

// Populate header and footer
document.getElementById('currStatus').textContent = data.status;
document.getElementById('footerNote').textContent = "Made with ‚ù§Ô∏è for Monika.";

// Render events
const eventsList = document.getElementById('eventsList');
eventsList.innerHTML = '';
data.events.forEach(evt => {
  const div = document.createElement('div');
  div.className = 'event';
  div.innerHTML = `
    <div class="evt-icon" aria-hidden>${evt.icon}</div>
    <div class="evt-body">
      <div class="evt-time">${evt.time}</div>
      <div class="evt-title">${evt.title}</div>
      <p class="evt-desc">${evt.desc}</p>
    </div>
  `;
  eventsList.appendChild(div);
});

// Live updating time
function updateTime(){
  const now = new Date();
  document.getElementById('liveTime').textContent = 'Current Time: ' + now.toLocaleString();
}
setInterval(updateTime, 1000);
updateTime();

// Show disclaimer on click
function showDisclaimer(type){
  alert(`‚ö†Ô∏è ${type} is available after 200‚Ç¨ fee payment.\n\nPlease contact to confirm delivery.`);
}

// Countdown timer: 3 days (72 hours) from now
const countdownEnd = new Date();
countdownEnd.setHours(countdownEnd.getHours() + 72);

function updateCountdown(){
  const now = new Date();
  let diff = countdownEnd - now;
  if(diff < 0) diff = 0;
  const hours = Math.floor(diff / 1000 / 60 / 60);
  const minutes = Math.floor((diff / 1000 / 60) % 60);
  const seconds = Math.floor((diff / 1000) % 60);
  document.getElementById('countdown').textContent = `Time left to confirm delivery: ${hours}h ${minutes}m ${seconds}s`;
}
setInterval(updateCountdown, 1000);
updateCountdown();

// Download as PNG
document.getElementById('downloadBtn').addEventListener('click', async () => {
  const card = document.getElementById('trackingCard');
  const rect = card.getBoundingClientRect();
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='${rect.width}' height='${rect.height}'><foreignObject width='100%' height='100%'>${new XMLSerializer().serializeToString(card)}</foreignObject></svg>`;
  const svgBlob = new Blob([svg], {type: 'image/svg+xml;charset=utf-8'});
  const url = URL.createObjectURL(svgBlob);
  const img = new Image();
  img.onload = function(){
    const canvas = document.createElement('canvas');
    canvas.width = rect.width*2;
    canvas.height = rect.height*2;
    const ctx = canvas.getContext('2d');
    ctx.scale(2,2);
    ctx.fillStyle = '#fff';
    ctx.fillRect(0,0,rect.width,rect.height);
    ctx.drawImage(img,0,0);
    URL.revokeObjectURL(url);
    canvas.toBlob(function(blob){
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'tracking-monika.png';
      document.body.appendChild(a);
      a.click();
      a.remove();
    }, 'image/png');
  };
  img.onerror = function(){ alert('Download failed. Use Chrome/Edge.'); };
  img.src = url;
});
</script>
</body>
</html>
